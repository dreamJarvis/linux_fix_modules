WEBVTT

1
00:00:00.607 --> 00:00:03.190
(upbeat music)

2
00:00:05.892 --> 00:00:06.725
<v Instructor>All right in this one,</v>

3
00:00:06.725 --> 00:00:09.310
we're gonna learn about clicking outside.

4
00:00:09.310 --> 00:00:13.090
So checking to see if you clicked outside of an element,

5
00:00:13.090 --> 00:00:14.560
which is kind of tough

6
00:00:14.560 --> 00:00:17.680
so let's go ahead and do that now.

7
00:00:17.680 --> 00:00:19.860
I've got these cards here.

8
00:00:19.860 --> 00:00:23.190
Each card has a image of something

9
00:00:23.190 --> 00:00:26.440
and has h2 and a button to learn more

10
00:00:26.440 --> 00:00:28.590
and it just actually it shows us a random,

11
00:00:28.590 --> 00:00:30.970
we can get a random image on each

12
00:00:30.970 --> 00:00:34.710
if we append random equals, then I'm gonna use

13
00:00:34.710 --> 00:00:37.830
this Text Pastry: 1 to X

14
00:00:37.830 --> 00:00:40.720
and that should give us a random photo for each one.

15
00:00:40.720 --> 00:00:42.440
Look at that.

16
00:00:42.440 --> 00:00:43.500
Beautiful!

17
00:00:43.500 --> 00:00:45.400
Now I'm just gonna write some quick CSS,

18
00:00:45.400 --> 00:00:46.870
I thought I'd include this as part of it

19
00:00:46.870 --> 00:00:48.200
rather than giving it to you.

20
00:00:48.200 --> 00:00:50.044
So here's some style tags and we take our cards

21
00:00:50.044 --> 00:00:51.940
and we'll display: grid

22
00:00:54.140 --> 00:00:59.140
and we say grid-template-columns: repeat(4, 1fr)

23
00:01:00.810 --> 00:01:03.093
and grid-gap is 20px.

24
00:01:04.490 --> 00:01:05.960
Looking pretty good.

25
00:01:05.960 --> 00:01:07.663
I'm gonna put a padding,

26
00:01:08.939 --> 00:01:11.833
20px, 2rem.

27
00:01:13.390 --> 00:01:14.520
Doesn't really matter.

28
00:01:14.520 --> 00:01:15.830
There we go.

29
00:01:15.830 --> 00:01:19.370
And now we got some horizontal scroll going on here.

30
00:01:19.370 --> 00:01:24.323
So we'll grab a card image, width is 100%.

31
00:01:25.441 --> 00:01:26.274
There we go.

32
00:01:27.720 --> 00:01:30.010
Looking kinda responsive.

33
00:01:30.010 --> 00:01:31.860
Actually maybe we should do a minmax.

34
00:01:34.341 --> 00:01:36.200
(sighs)

35
00:01:36.200 --> 00:01:39.570
At a minimum, I want them 150px.

36
00:01:39.570 --> 00:01:41.450
At a max, I want them 1fr.

37
00:01:41.450 --> 00:01:43.603
Wait, is it the other way around?

38
00:01:44.450 --> 00:01:48.410
If only I had a course on CSS grid.

39
00:01:48.410 --> 00:01:49.982
It's not.

40
00:01:49.982 --> 00:01:52.031
Minmax,

41
00:01:52.031 --> 00:01:52.864
200px.

42
00:01:59.234 --> 00:02:01.789
(mouse clicking)

43
00:02:01.789 --> 00:02:02.760
(groans)

44
00:02:02.760 --> 00:02:04.020
You know what it is.

45
00:02:04.020 --> 00:02:09.020
It's auto-fit and the size is minmax.

46
00:02:10.000 --> 00:02:11.310
How do I not know that?

47
00:02:11.310 --> 00:02:13.450
I actually made the course on CSS grid!

48
00:02:13.450 --> 00:02:15.090
There we go.

49
00:02:15.090 --> 00:02:17.610
Now we've got those looking good,

50
00:02:17.610 --> 00:02:19.183
let's just put each card,

51
00:02:20.290 --> 00:02:22.863
background: white,

52
00:02:24.600 --> 00:02:25.893
padding: 1rem,

53
00:02:28.480 --> 00:02:30.883
border-radius,

54
00:02:33.160 --> 00:02:37.693
I think var vs?

55
00:02:38.603 --> 00:02:42.100
(keyboard tapping)

56
00:02:42.100 --> 00:02:44.400
border-radius: 2px,

57
00:02:46.550 --> 00:02:50.433
card h2, color:black.

58
00:02:51.449 --> 00:02:54.160
(instructor whistling)

59
00:02:54.160 --> 00:02:56.280
Those are looking good, okay.

60
00:02:56.280 --> 00:03:00.220
Next up what we wanna do is to create a modal.

61
00:03:00.220 --> 00:03:03.950
So we've got this modal here.

62
00:03:03.950 --> 00:03:05.890
Where did it go?

63
00:03:05.890 --> 00:03:08.430
Up here, we have the modal-outer and the modal-inner.

64
00:03:08.430 --> 00:03:10.290
We need to go ahead and style that

65
00:03:10.290 --> 00:03:12.770
so let's style it in the on position

66
00:03:12.770 --> 00:03:15.570
and then we'll turn it off with CSS.

67
00:03:15.570 --> 00:03:17.670
So we'll go down here

68
00:03:19.970 --> 00:03:22.410
and say .modal-outer

69
00:03:23.370 --> 00:03:25.210
display: grid

70
00:03:25.210 --> 00:03:27.720
background: rgba,

71
00:03:27.720 --> 00:03:32.720
we'll make it like just very somewhat transparent.

72
00:03:33.060 --> 00:03:34.110
Does that make sense?

73
00:03:35.002 --> 00:03:37.752
(mouse clicking)

74
00:03:39.270 --> 00:03:41.003
position: fixed.

75
00:03:43.500 --> 00:03:45.023
Oh, we gotta give it a height.

76
00:03:47.490 --> 00:03:48.490
100vh

77
00:03:50.374 --> 00:03:52.113
and a width of 100vh.

78
00:03:55.240 --> 00:03:56.470
Where is my modal?

79
00:03:56.470 --> 00:03:57.768
Oh, here it is.

80
00:03:57.768 --> 00:03:58.880
(mouse clicking)

81
00:03:58.880 --> 00:04:03.880
And it needs a top: 0, left: 0.

82
00:04:04.353 --> 00:04:06.760
(mouse clicking)

83
00:04:06.760 --> 00:04:09.123
Oh, width is 100vw duh.

84
00:04:10.000 --> 00:04:11.100
Hey, there we go!

85
00:04:11.100 --> 00:04:15.950
And this maybe needs to be a little bit higher, 0.5,

86
00:04:15.950 --> 00:04:17.350
yeah, maybe even a bit more.

87
00:04:18.950 --> 00:04:19.907
Good.

88
00:04:19.907 --> 00:04:21.963
We could actually use hsla for that.

89
00:04:23.350 --> 00:04:24.800
Why not, we just learned about it.

90
00:04:24.800 --> 00:04:29.283
50%, 100%, 50%, actually these are enough.

91
00:04:30.270 --> 00:04:32.380
That can be 50.

92
00:04:32.380 --> 00:04:34.271
Whoa, that's almost my yellow.

93
00:04:34.271 --> 00:04:35.104
Like it!

94
00:04:35.104 --> 00:04:35.937
I like it!

95
00:04:35.937 --> 00:04:40.860
Okay, and then we have our modal-inner

96
00:04:40.860 --> 00:04:42.833
which is that one.

97
00:04:45.170 --> 00:04:46.550
I'll give it a width of,

98
00:04:46.550 --> 00:04:49.370
a max-width of 600px

99
00:04:51.050 --> 00:04:55.020
and a min-height: 500px

100
00:04:56.960 --> 00:04:58.713
background: white.

101
00:05:02.410 --> 00:05:03.963
That's too high.

102
00:05:03.963 --> 00:05:06.713
(mouse clicking)

103
00:05:07.721 --> 00:05:12.721
Oh, and now we wanna center it so justify-content: center,

104
00:05:16.660 --> 00:05:19.653
align-items: center.

105
00:05:22.353 --> 00:05:24.820
I think we need a little bit of content to go inside

106
00:05:24.820 --> 00:05:26.113
of this sucker.

107
00:05:29.780 --> 00:05:30.613
There we go.

108
00:05:30.613 --> 00:05:32.193
Need some content inside of it.

109
00:05:34.881 --> 00:05:36.431
I'll put a min-width on it too.

110
00:05:37.850 --> 00:05:39.363
Maybe 400px.

111
00:05:40.516 --> 00:05:41.370
Looking good.

112
00:05:41.370 --> 00:05:42.663
padding: 2rem,

113
00:05:45.430 --> 00:05:48.113
border-radius: 5px.

114
00:05:49.620 --> 00:05:52.800
All right, so now we've got this modal here

115
00:05:52.800 --> 00:05:54.360
and this is a pretty common thing.

116
00:05:54.360 --> 00:05:57.690
It pops up and you wanna be able to close that thing

117
00:05:57.690 --> 00:05:59.980
and we've got a couple examples like this going on here

118
00:05:59.980 --> 00:06:02.223
so I'm not gonna get into the close button and all that

119
00:06:02.223 --> 00:06:03.870
because we'll do it again.

120
00:06:03.870 --> 00:06:06.730
But I just want to show you guys like a real quick example

121
00:06:06.730 --> 00:06:09.570
as to how it works.

122
00:06:09.570 --> 00:06:14.010
So, now we need to hide this thing by default so (groans)

123
00:06:14.010 --> 00:06:15.510
there's tons of different ways.

124
00:06:15.510 --> 00:06:16.700
You could display-nunit,

125
00:06:16.700 --> 00:06:20.543
you could give it a visibility='hidden',

126
00:06:20.543 --> 00:06:23.560
what I like to do for CSS animations is to give it

127
00:06:23.560 --> 00:06:26.760
an opacity of zero and that's not gonna cut it just yet

128
00:06:26.760 --> 00:06:29.880
because even if you give it an opacity of zero,

129
00:06:29.880 --> 00:06:31.730
you'll see it like I can't click on

130
00:06:31.730 --> 00:06:33.570
or select any of the stuff

131
00:06:33.570 --> 00:06:36.240
and that's because this modal-outer

132
00:06:36.240 --> 00:06:40.100
is actually still there even though we've given it

133
00:06:40.100 --> 00:06:41.440
an opacity of zero.

134
00:06:41.440 --> 00:06:44.010
Like if we give it an opacity of like 0.1,

135
00:06:46.140 --> 00:06:49.910
see it is technically still there so that's not good enough

136
00:06:49.910 --> 00:06:54.910
but what you can do is give it a pointer-events of none.

137
00:06:55.440 --> 00:06:58.250
And what that will do is it will tell the browser

138
00:06:58.250 --> 00:07:01.540
just to ignore any events that come to that

139
00:07:01.540 --> 00:07:04.010
and it actually will just not capture them.

140
00:07:04.010 --> 00:07:05.300
That's just, it's part of,

141
00:07:05.300 --> 00:07:07.160
it's kind of a cool part where JavaScript

142
00:07:07.160 --> 00:07:08.330
and CSS work together.

143
00:07:08.330 --> 00:07:10.870
Now, when I refresh this, you'll see that

144
00:07:10.870 --> 00:07:14.960
even though that modal-inner is actually still there,

145
00:07:14.960 --> 00:07:16.610
or sorry, that modal-outer is still there,

146
00:07:16.610 --> 00:07:19.200
if you put an opacity of 0.5 on it,

147
00:07:19.200 --> 00:07:20.960
it's actually still there but you'll see

148
00:07:20.960 --> 00:07:22.940
how I can click these buttons

149
00:07:22.940 --> 00:07:26.720
and events aren't being captured by that modal-outer

150
00:07:26.720 --> 00:07:27.840
so that's one way to,

151
00:07:27.840 --> 00:07:29.497
maybe we should put a comment there.

152
00:07:29.497 --> 00:07:34.497
"Hide this modal until we need it."

153
00:07:36.210 --> 00:07:40.160
And then what we'll do is we'll say when the modal-outer

154
00:07:40.160 --> 00:07:42.853
has a class of visible,

155
00:07:45.130 --> 00:07:47.720
or maybe not visible, open,

156
00:07:47.720 --> 00:07:50.090
then we'll simply do the opposite.

157
00:07:50.090 --> 00:07:53.300
We'll say opacity: 1

158
00:07:53.300 --> 00:07:56.713
and pointer-events: all.

159
00:07:58.820 --> 00:08:00.710
And now we can just simply go to this one

160
00:08:00.710 --> 00:08:03.593
and add a class of open and it will show up.

161
00:08:04.590 --> 00:08:07.960
Furthermore, I don't know why I just said furthermore

162
00:08:07.960 --> 00:08:09.840
like it's a thesis or something,

163
00:08:09.840 --> 00:08:13.240
we can put a transition of all,

164
00:08:13.240 --> 00:08:14.490
no maybe just opacity.

165
00:08:14.490 --> 00:08:18.580
opacity 0.5 seconds.

166
00:08:18.580 --> 00:08:19.650
Nah, that's too long.

167
00:08:19.650 --> 00:08:21.020
Two seconds.

168
00:08:21.020 --> 00:08:21.950
Now watch this.

169
00:08:21.950 --> 00:08:25.220
If we take this modal-outer and add a class of open,

170
00:08:25.220 --> 00:08:26.920
it will kind of fade itself in

171
00:08:29.090 --> 00:08:31.100
and that will fade itself out.

172
00:08:31.100 --> 00:08:34.980
Cool, so, (laughs) we didn't write any JavaScript yet.

173
00:08:34.980 --> 00:08:36.170
Welcome to the JavaScript course

174
00:08:36.170 --> 00:08:38.160
but I thought that was worth learning

175
00:08:38.160 --> 00:08:41.280
about the CSS behind it as well because if you need to build

176
00:08:41.280 --> 00:08:42.830
one of these things, it's kind of a dance

177
00:08:42.830 --> 00:08:45.120
between the CSS and the JavaScript.

178
00:08:45.120 --> 00:08:48.070
But now let's work on clicking each of these buttons.

179
00:08:48.070 --> 00:08:50.070
So every card has a button

180
00:08:50.070 --> 00:08:51.380
so let's go ahead and select that.

181
00:08:51.380 --> 00:08:54.280
So const cardButtons is equal

182
00:08:54.280 --> 00:08:56.873
to document.querySelectorAll('.card button').

183
00:09:01.090 --> 00:09:03.170
Then we will loop over each of the buttons

184
00:09:03.170 --> 00:09:04.850
and listen for a click on them.

185
00:09:04.850 --> 00:09:06.933
So cardButtons.forEach,

186
00:09:08.906 --> 00:09:11.890
it'll take each button and will attach an event listener,

187
00:09:11.890 --> 00:09:15.770
so button.addEventListener, you're gonna listen for a click,

188
00:09:15.770 --> 00:09:17.226
and when that happens, we're gonna say

189
00:09:17.226 --> 00:09:19.059
handleCardButtonClick.

190
00:09:20.210 --> 00:09:21.510
We'll make a function before that

191
00:09:21.510 --> 00:09:22.703
called handleButtonClick.

192
00:09:26.170 --> 00:09:27.620
Console.log('YA CLICKED IT').

193
00:09:29.338 --> 00:09:30.580
Is that gonna work, ya think?

194
00:09:30.580 --> 00:09:31.430
Let's try it out.

195
00:09:32.500 --> 00:09:33.960
Beauty.

196
00:09:33.960 --> 00:09:37.640
Next up, we need to do is we need to grab something

197
00:09:37.640 --> 00:09:39.530
to show in the modal.

198
00:09:39.530 --> 00:09:41.810
I was thinking we'll grab the image

199
00:09:41.810 --> 00:09:45.340
and show a higher version of it as well as

200
00:09:47.600 --> 00:09:51.260
grab the data-description of the parent card.

201
00:09:51.260 --> 00:09:52.320
That would be a good example.

202
00:09:52.320 --> 00:09:57.320
So what we'll do here is we'll take the event,

203
00:09:57.580 --> 00:10:02.580
we'll say const button is equal to event.currentTarget

204
00:10:03.694 --> 00:10:07.020
(keyboard tapping)

205
00:10:07.020 --> 00:10:12.020
and the card is equal to and now we need to find the card

206
00:10:14.260 --> 00:10:16.130
that is associated with the button.

207
00:10:16.130 --> 00:10:19.980
And now we could just say like button.parentElement

208
00:10:19.980 --> 00:10:22.190
but if the button were to ever move,

209
00:10:22.190 --> 00:10:24.320
if it were to ever be nested inside of something,

210
00:10:24.320 --> 00:10:26.530
then it doesn't really work all that well.

211
00:10:26.530 --> 00:10:29.230
So what we can do is we can say card, or no,

212
00:10:29.230 --> 00:10:34.230
we take the button and we can run this closest method

213
00:10:34.340 --> 00:10:36.600
and search, it's kinda like querySelectorAll

214
00:10:36.600 --> 00:10:38.970
for the closest card.

215
00:10:38.970 --> 00:10:43.160
And now for the console.log, the card, we should be able

216
00:10:43.160 --> 00:10:46.420
to see the individual cards for that one.

217
00:10:46.420 --> 00:10:47.804
There we go, looking good.

218
00:10:47.804 --> 00:10:50.870
I really like that because like you can take any element.

219
00:10:50.870 --> 00:10:54.290
Like, let's click on this h2 right here

220
00:10:55.590 --> 00:11:00.310
and we'll say $0.closest

221
00:11:00.310 --> 00:11:02.493
and we'll search for the closest div.

222
00:11:03.504 --> 00:11:04.337
That will show us the card.

223
00:11:04.337 --> 00:11:07.490
If we search for the closest, I don't know, html element,

224
00:11:07.490 --> 00:11:08.900
and that will show us the hml

225
00:11:08.900 --> 00:11:11.340
and if there's something that doesn't match it

226
00:11:11.340 --> 00:11:13.490
like doesn't,

227
00:11:13.490 --> 00:11:17.030
then it will return null because there is no parent of it.

228
00:11:17.030 --> 00:11:19.960
So .closest is kinda like querySelectorAll

229
00:11:19.960 --> 00:11:23.970
except the opposite, where it will climb up the nested tree

230
00:11:23.970 --> 00:11:26.350
of DOM elements instead of looking down

231
00:11:26.350 --> 00:11:27.550
the DOM tree of elements

232
00:11:27.550 --> 00:11:30.360
and we're actually gonna use that once more time in here.

233
00:11:30.360 --> 00:11:34.930
Then what we can do is grab the image source.

234
00:11:34.930 --> 00:11:37.480
So say const imgSrc is equal to card.querySelector,

235
00:11:43.830 --> 00:11:45.020
we'll search for the image

236
00:11:45.020 --> 00:11:47.180
and we'll grab the source from that,

237
00:11:47.180 --> 00:11:48.180
console.log(imgSrc).

238
00:11:50.132 --> 00:11:52.882
(mouse clicking)

239
00:11:54.120 --> 00:11:55.590
Looking good.

240
00:11:55.590 --> 00:11:58.240
And const description

241
00:11:59.620 --> 00:12:03.990
is equal to the card.dataset, right,

242
00:12:03.990 --> 00:12:06.260
because if we wanna grab a data-description,

243
00:12:06.260 --> 00:12:10.343
we use .dataset.description.

244
00:12:14.280 --> 00:12:17.250
So let's go ahead and console.log the description,

245
00:12:17.250 --> 00:12:19.148
make sure those are working.

246
00:12:19.148 --> 00:12:20.590
(keyboard tapping)

247
00:12:20.590 --> 00:12:22.050
I like it!

248
00:12:22.050 --> 00:12:26.830
And then what we can do is we can populate the modal

249
00:12:28.160 --> 00:12:32.810
with the new info so what we'll do is we have to grab

250
00:12:32.810 --> 00:12:35.260
the modal up here because I don't need

251
00:12:35.260 --> 00:12:36.470
to reselect every click.

252
00:12:36.470 --> 00:12:37.573
I can select out of here.

253
00:12:37.573 --> 00:12:40.156
So const modalInner is equal to

254
00:12:44.520 --> 00:12:49.353
document.querySelector

255
00:12:52.988 --> 00:12:53.905
modal-inner

256
00:12:57.336 --> 00:13:02.120
and we'll say modalInner.innerHTML is equal to,

257
00:13:02.120 --> 00:13:03.820
and we'll just use backticks here,

258
00:13:04.750 --> 00:13:07.930
and I was thinking we'd do the image to the source

259
00:13:07.930 --> 00:13:12.210
of the image source but I wanna replace

260
00:13:12.210 --> 00:13:16.960
the 200 of, I'm just like lucky that these images

261
00:13:16.960 --> 00:13:19.280
have like a 200 in them,

262
00:13:19.280 --> 00:13:22.503
I wanna replace the 200 with a 600.

263
00:13:29.423 --> 00:13:31.840
And then the alt will be,

264
00:13:31.840 --> 00:13:34.550
I guess we could take the person's name too, hey?

265
00:13:34.550 --> 00:13:37.030
So const name is equal

266
00:13:37.030 --> 00:13:42.030
to card.querySelector('h2').textContent

267
00:13:44.677 --> 00:13:47.440
and then we can pop their name in here.

268
00:13:47.440 --> 00:13:50.270
And then below it, we'll do like a little p

269
00:13:50.270 --> 00:13:53.145
or we'll use a figcaption in a future one,

270
00:13:53.145 --> 00:13:54.895
let's just use a paragraph for now.

271
00:13:55.784 --> 00:13:57.560
We can pop the description in there.

272
00:13:57.560 --> 00:14:00.560
Finally, we wanna show the modal.

273
00:14:00.560 --> 00:14:04.740
And that will be taking the outer modal,

274
00:14:04.740 --> 00:14:07.810
so we'll grab another selector up here, modalOuter

275
00:14:12.240 --> 00:14:16.810
and we'll say modalOuter.classList.add('open').

276
00:14:22.892 --> 00:14:24.309
Is it gonna work?

277
00:14:26.240 --> 00:14:27.880
Boom, it works!

278
00:14:27.880 --> 00:14:31.020
We need a little bit of CSS because this is spilling out.

279
00:14:31.020 --> 00:14:32.653
So we'll go here,

280
00:14:36.782 --> 00:14:38.653
modal-outer,

281
00:14:39.640 --> 00:14:40.853
oh, hold on.

282
00:14:41.818 --> 00:14:45.340
Hi.

283
00:14:45.340 --> 00:14:46.340
Hey, how's it going?

284
00:14:48.690 --> 00:14:49.523
Nope.

285
00:14:53.756 --> 00:14:57.080
(mouse clicking)

286
00:14:57.080 --> 00:14:57.983
Oh, awesome.

287
00:14:59.610 --> 00:15:00.443
That's good.

288
00:15:02.193 --> 00:15:05.110
(keyboard tapping)

289
00:15:08.078 --> 00:15:08.911
Oh, yeah.

290
00:15:08.911 --> 00:15:09.950
We got a box of stuff.

291
00:15:09.950 --> 00:15:12.080
I'm not sure if it's worth selling or not

292
00:15:12.080 --> 00:15:15.740
but if we do, I'll bring it.

293
00:15:15.740 --> 00:15:16.573
Okay.

294
00:15:16.573 --> 00:15:17.406
We'll try drop,

295
00:15:17.406 --> 00:15:19.700
wait, is it, oh, it's Friday already.

296
00:15:19.700 --> 00:15:20.860
Oh yeah.

297
00:15:20.860 --> 00:15:21.693
Okay.

298
00:15:24.170 --> 00:15:26.293
Yeah, I'll see what Caitlyn's,

299
00:15:27.440 --> 00:15:30.460
I'm not sure actually what the plan is for tomorrow.

300
00:15:30.460 --> 00:15:32.043
I'll text dad.

301
00:15:33.211 --> 00:15:36.294
(distorted speaking)

302
00:15:41.880 --> 00:15:42.810
All right, sorry about that.

303
00:15:42.810 --> 00:15:44.570
My mom called.

304
00:15:44.570 --> 00:15:45.403
Where were we?

305
00:15:45.403 --> 00:15:48.440
We had the image popping up and I fixed it

306
00:15:48.440 --> 00:15:49.790
while I was talking to my mom.

307
00:15:49.790 --> 00:15:51.790
So I put a width of 100% on that

308
00:15:51.790 --> 00:15:53.820
so it's not filling out so good.

309
00:15:53.820 --> 00:15:57.130
That is the very bare bones of a modal.

310
00:15:57.130 --> 00:16:01.200
But the sort of the other thing that we need to talk about

311
00:16:01.200 --> 00:16:02.130
is closing it.

312
00:16:02.130 --> 00:16:04.590
So obviously, we can go here and we can make a function

313
00:16:04.590 --> 00:16:07.660
called closeModal and what that will do

314
00:16:07.660 --> 00:16:12.111
is it will take the modalOuter and take the classList

315
00:16:12.111 --> 00:16:15.550
and remove the class of open

316
00:16:15.550 --> 00:16:17.060
and we can

317
00:16:18.680 --> 00:16:19.513
we can call that.

318
00:16:19.513 --> 00:16:20.920
So closeModal.

319
00:16:23.780 --> 00:16:26.150
Okay, it has to be open first.

320
00:16:26.150 --> 00:16:27.260
Then closeModal.

321
00:16:27.260 --> 00:16:28.380
Good.

322
00:16:28.380 --> 00:16:30.750
But like how do you do click outside,

323
00:16:30.750 --> 00:16:35.750
which means that when you click on here,

324
00:16:35.768 --> 00:16:36.660
(mouse clicking)

325
00:16:36.660 --> 00:16:40.670
how do you tell that you're not clicking on like this

326
00:16:40.670 --> 00:16:43.120
to like select the text or right click on the image

327
00:16:43.120 --> 00:16:44.570
or anything like that.

328
00:16:44.570 --> 00:16:45.550
And that's

329
00:16:47.540 --> 00:16:50.320
with sort of a technique called click outside

330
00:16:50.320 --> 00:16:54.270
so what we'll actually do is we'll take the modalOuter

331
00:16:54.270 --> 00:16:57.260
and we'll listen for a click on it

332
00:16:58.490 --> 00:17:03.000
and when that happens, we'll take a look at the event.

333
00:17:03.000 --> 00:17:05.000
So I guess we gotta pass the event here.

334
00:17:08.228 --> 00:17:09.263
And so open it up.

335
00:17:10.300 --> 00:17:15.100
Now when you click on the modalOuter, you see the event

336
00:17:15.100 --> 00:17:19.087
and we can take a look at the target and the currentTarget

337
00:17:20.070 --> 00:17:22.000
and you might think, "Okay, this is pretty simple."

338
00:17:22.000 --> 00:17:26.357
Like I can just make it like if the modalOuter

339
00:17:27.860 --> 00:17:30.019
and the is the, if they're the same thing,

340
00:17:30.019 --> 00:17:31.510
then go ahead and close it.

341
00:17:31.510 --> 00:17:35.100
But in my experience, modals are usually a little bit

342
00:17:35.100 --> 00:17:37.010
more complex than that.

343
00:17:37.010 --> 00:17:38.880
Sometimes they have elements on the outside,

344
00:17:38.880 --> 00:17:42.330
sometimes you wanna listen for clicks on specific things.

345
00:17:42.330 --> 00:17:45.550
So what we can do is we can actually use that closest method

346
00:17:45.550 --> 00:17:48.920
that we were talking about to see if we were clicking

347
00:17:48.920 --> 00:17:51.540
inside of the modalInner at all.

348
00:17:51.540 --> 00:17:53.600
So we can make this console.log.

349
00:17:53.600 --> 00:17:56.280
So let's make a variable called isOutside

350
00:17:56.280 --> 00:18:01.280
and that will be, we'll take the event.target.closest

351
00:18:03.440 --> 00:18:06.230
and we'll search for the modalInner

352
00:18:06.230 --> 00:18:09.687
and what that will tell us is console.log(isOutside),

353
00:18:11.500 --> 00:18:12.803
now watch this.

354
00:18:13.914 --> 00:18:14.747
(mouse clicking)

355
00:18:14.747 --> 00:18:15.610
"e is not defined."

356
00:18:15.610 --> 00:18:16.453
Oh, it's event.

357
00:18:18.215 --> 00:18:20.965
(mouse clicking)

358
00:18:23.910 --> 00:18:26.660
So regardless of what you click on,

359
00:18:26.660 --> 00:18:29.340
so you click on the h2, you click on the image,

360
00:18:29.340 --> 00:18:32.464
or you click on the modalInner itself,

361
00:18:32.464 --> 00:18:34.760
what it will do is it will look for something

362
00:18:34.760 --> 00:18:36.670
that matches that selector.

363
00:18:36.670 --> 00:18:39.660
So if you click on itself or anything inside of it,

364
00:18:39.660 --> 00:18:42.200
it will find the modalInner.

365
00:18:42.200 --> 00:18:45.720
However, if you click on something that is outside

366
00:18:46.780 --> 00:18:50.660
of the inner, like the outer, or like a close button

367
00:18:50.660 --> 00:18:51.800
or something like that,

368
00:18:51.800 --> 00:18:55.120
then what will happen is that

369
00:18:55.120 --> 00:18:57.570
it won't be able to find anything.

370
00:18:57.570 --> 00:19:00.930
So what we can do is we can convert this closest

371
00:19:00.930 --> 00:19:05.450
to a Boolean true or false by putting a bang in front of it

372
00:19:05.450 --> 00:19:10.021
and now if it finds something, it will,

373
00:19:10.021 --> 00:19:11.417
I'll show you.

374
00:19:11.417 --> 00:19:13.460
If it finds something, it will be false,

375
00:19:13.460 --> 00:19:16.070
if it doesn't find something, it will be true

376
00:19:16.070 --> 00:19:19.189
and that gives us a nice Boolean of isOutside.

377
00:19:19.189 --> 00:19:22.979
And then we can simply say if (isOutside)

378
00:19:22.979 --> 00:19:26.253
modalOuter.classList.remove

379
00:19:31.565 --> 00:19:32.445
('open').

380
00:19:32.445 --> 00:19:35.195
(mouse clicking)

381
00:19:36.440 --> 00:19:39.420
Beautiful, and now you can always click outside.

382
00:19:39.420 --> 00:19:41.810
Let's hook up the escape key real quick.

383
00:19:41.810 --> 00:19:44.120
Again, we'll do another modal example in the future

384
00:19:44.120 --> 00:19:49.057
but we'll just say window.addEventListener('click')

385
00:19:52.020 --> 00:19:53.340
let's do an arrow function here

386
00:19:53.340 --> 00:19:54.800
just to comfortable with those.

387
00:19:54.800 --> 00:19:58.773
We'll pass the event and we'll say if the event.key

388
00:20:00.320 --> 00:20:03.373
is equal to, what is it, keycode.info,

389
00:20:05.140 --> 00:20:06.183
Escape.

390
00:20:08.146 --> 00:20:11.793
Escape, then do the same thing.

391
00:20:12.980 --> 00:20:14.810
Or, I don't know, why are we doing this

392
00:20:14.810 --> 00:20:16.370
classList.remove three times?

393
00:20:16.370 --> 00:20:18.690
We have this nice little closeModal function.

394
00:20:18.690 --> 00:20:19.970
Let's replace it.

395
00:20:19.970 --> 00:20:20.803
Boom.

396
00:20:21.910 --> 00:20:22.743
Boom.

397
00:20:26.390 --> 00:20:29.375
Now open it up, hit the Esc key.

398
00:20:29.375 --> 00:20:30.644
(keyboard tapping)

399
00:20:30.644 --> 00:20:32.000
It's not working!

400
00:20:32.000 --> 00:20:33.210
All right, debug time.

401
00:20:33.210 --> 00:20:34.160
console.log(event).

402
00:20:35.768 --> 00:20:38.518
(mouse clicking)

403
00:20:40.600 --> 00:20:43.680
All right this window, .addEvent, oh my gosh.

404
00:20:43.680 --> 00:20:44.793
I'm listening for click!

405
00:20:44.793 --> 00:20:46.723
That is so silly.

406
00:20:47.630 --> 00:20:49.403
So key,

407
00:20:50.844 --> 00:20:51.677
keydown?

408
00:20:53.250 --> 00:20:54.433
Yeah, keydown.

409
00:20:55.979 --> 00:20:57.184
(mouse clicking)

410
00:20:57.184 --> 00:20:59.700
There we go, it works just fine.

411
00:20:59.700 --> 00:21:01.121
Pretty, pretty cool.

412
00:21:01.121 --> 00:21:03.040
You can turn it off now.

413
00:21:03.040 --> 00:21:03.873
That's it.

414
00:21:03.873 --> 00:21:06.980
I just wanna show some more sort of fun stuff.

415
00:21:06.980 --> 00:21:10.310
You can take this modalInner and transform

416
00:21:13.280 --> 00:21:18.280
translateY(-200%)

417
00:21:22.960 --> 00:21:25.104
so now it's like way up here

418
00:21:25.104 --> 00:21:27.170
like off the browser.

419
00:21:27.170 --> 00:21:30.563
And we can put a transition of two seconds,

420
00:21:33.040 --> 00:21:35.410
transform two seconds.

421
00:21:35.410 --> 00:21:37.690
So what that will do is it will animate

422
00:21:37.690 --> 00:21:40.480
the transform property over two seconds

423
00:21:40.480 --> 00:21:45.450
and then we can say when the modal-outer

424
00:21:46.310 --> 00:21:47.933
has a class of open,

425
00:21:49.430 --> 00:21:54.000
then we wanna grab the modal-inner and change

426
00:21:54.000 --> 00:21:58.590
the transform value to be zero.

427
00:21:58.590 --> 00:22:00.490
Put it back where it should've been.

428
00:22:00.490 --> 00:22:04.143
I think that will give us a cool little animation.

429
00:22:05.210 --> 00:22:06.043
Woo!

430
00:22:09.112 --> 00:22:11.120
(groans)

431
00:22:11.120 --> 00:22:13.030
You see like what's going on here?

432
00:22:13.030 --> 00:22:15.220
What that (grunting) part?

433
00:22:15.220 --> 00:22:19.630
You know what's happening there is that the image

434
00:22:20.850 --> 00:22:24.980
isn't loading yet and it's giving us a bit of an issue

435
00:22:24.980 --> 00:22:28.250
so a couple things we could do to fix that

436
00:22:28.250 --> 00:22:33.250
is this image here could have a width of 600

437
00:22:33.410 --> 00:22:36.763
and a height of 600.

438
00:22:37.730 --> 00:22:40.480
(mouse clicking)

439
00:22:42.060 --> 00:22:45.593
And even if it takes a second to load,

440
00:22:46.476 --> 00:22:47.630
(mouse clicking)

441
00:22:47.630 --> 00:22:49.853
it will, actually that's kind of a neat little thing

442
00:22:49.853 --> 00:22:52.180
because as it's sliding in, it's loading

443
00:22:52.180 --> 00:22:55.210
but if we still had like a slow network.

444
00:22:55.210 --> 00:22:57.023
Can we turn slow network on?

445
00:22:57.920 --> 00:23:00.863
Fast 3G, this is still pretty slow.

446
00:23:04.400 --> 00:23:05.620
Yeah, see there?

447
00:23:05.620 --> 00:23:07.730
Oh, still with the width though.

448
00:23:07.730 --> 00:23:10.980
So the width is still goofy on that

449
00:23:10.980 --> 00:23:13.117
so that's one option that we can do.

450
00:23:13.117 --> 00:23:15.550
Obviously it's not perfect.

451
00:23:15.550 --> 00:23:19.815
The other option would be to use document.createElement

452
00:23:19.815 --> 00:23:24.815
to create an image and then wait for the image to load.

453
00:23:24.830 --> 00:23:27.320
So listen for the load event on the image

454
00:23:27.320 --> 00:23:29.620
and then run this.

455
00:23:29.620 --> 00:23:32.640
So when somebody clicks it, you could show a spinner

456
00:23:32.640 --> 00:23:35.410
for a second, wait for that image to load,

457
00:23:35.410 --> 00:23:37.930
and then when it's loaded, put it in.

458
00:23:37.930 --> 00:23:40.590
But that honestly that makes it have like a bit

459
00:23:40.590 --> 00:23:43.220
of a janky experience so I actually don't really like

460
00:23:43.220 --> 00:23:44.660
that experience at all because then you're maybe

461
00:23:44.660 --> 00:23:46.570
sitting there waiting for the image to load

462
00:23:46.570 --> 00:23:49.330
while you could be reading the text and whatnot.

463
00:23:49.330 --> 00:23:50.550
So that's an option there.

464
00:23:50.550 --> 00:23:53.800
We'll go into some more examples like that in the future.

465
00:23:53.800 --> 00:23:56.100
That is click outside, see ya in the next one.

