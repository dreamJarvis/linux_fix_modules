WEBVTT

1
00:00:00.124 --> 00:00:02.707
(upbeat music)

2
00:00:03.880 --> 00:00:04.760
<v Instructor>Let's talk about the folders</v>

3
00:00:04.760 --> 00:00:06.450
that are in here before we make some pages.

4
00:00:06.450 --> 00:00:08.510
So quickly we've got VS Code,

5
00:00:08.510 --> 00:00:10.000
that's where your Vs Code settings go.

6
00:00:10.000 --> 00:00:11.700
Node modules, that's where our dependencies

7
00:00:11.700 --> 00:00:12.750
are installed to.

8
00:00:12.750 --> 00:00:14.220
You'll never have to go in here

9
00:00:14.220 --> 00:00:17.580 line:15% 
that's just under the hood as I like to say,

10
00:00:17.580 --> 00:00:21.150 line:15% 
there is a public folder and this is the directory

11
00:00:21.150 --> 00:00:22.960
as Gatsby is building itself.

12
00:00:22.960 --> 00:00:25.340
And eventually when we go to deploy

13
00:00:25.340 --> 00:00:27.660
and we run build on Gatsby

14
00:00:27.660 --> 00:00:28.700
that's where it's gonna go.

15
00:00:28.700 --> 00:00:31.320
So you may see a bunch of stuff in there,

16
00:00:31.320 --> 00:00:33.490
don't go in there yourself.

17
00:00:33.490 --> 00:00:36.010
If you ever need or having trouble with Gatsby,

18
00:00:36.010 --> 00:00:38.060
you can just delete this public folder

19
00:00:38.060 --> 00:00:39.230
and it will regenerate.

20
00:00:39.230 --> 00:00:41.280
And that's the same thing as running Gatsby clean.

21
00:00:41.280 --> 00:00:42.990
We'll talk about that a bit.

22
00:00:42.990 --> 00:00:46.080
Now we've got two folders here, we've got source and static.

23
00:00:46.080 --> 00:00:49.510
Static is where you put files

24
00:00:49.510 --> 00:00:52.040
that you simply just want to be served up.

25
00:00:52.040 --> 00:00:54.060
Like it's a regular HTML and

26
00:00:54.060 --> 00:00:57.110
that's for use for things like favicons.

27
00:00:57.110 --> 00:01:00.060
Almost always, you don't wanna put stuff in static,

28
00:01:00.060 --> 00:01:02.100
even if it's an image or a font

29
00:01:02.100 --> 00:01:04.920
or some CSS that you need to load.

30
00:01:04.920 --> 00:01:06.500
And the reason behind that is

31
00:01:06.500 --> 00:01:08.830
because we don't wanna reference or import any

32
00:01:08.830 --> 00:01:10.550
of these images or CSS or anything

33
00:01:10.550 --> 00:01:13.590
into Gatsby just by their static path.

34
00:01:13.590 --> 00:01:14.800
But you're gonna hear me say

35
00:01:14.800 --> 00:01:17.270
this a lot through this course,

36
00:01:17.270 --> 00:01:20.360
and that is everything must go through Gatsby.

37
00:01:20.360 --> 00:01:22.820
Meaning that everything must be imported through Gatsby.

38
00:01:22.820 --> 00:01:26.322
All of our CSS, all of our images, all of our JavaScript,

39
00:01:26.322 --> 00:01:30.530
and by importing it through Gatsby, Gatsby knows about all

40
00:01:30.530 --> 00:01:32.490
of your assets and is able to do a lot of

41
00:01:32.490 --> 00:01:35.660
those kinda neat things around performance and speed.

42
00:01:35.660 --> 00:01:38.840
So, think twice about before you put anything

43
00:01:38.840 --> 00:01:40.370
in the static folder.

44
00:01:40.370 --> 00:01:42.680
And then we've got the source folder,

45
00:01:42.680 --> 00:01:45.310
and this is where most of the Gatsby will live.

46
00:01:45.310 --> 00:01:49.650
The only folder in here that is Gatsby specific,

47
00:01:49.650 --> 00:01:51.170
is the pages folder.

48
00:01:51.170 --> 00:01:54.020
And that's where we're gonna put all of our pages.

49
00:01:54.020 --> 00:01:56.400
The rest of the folders I've just made them up.

50
00:01:56.400 --> 00:01:58.840
And this is pretty common layout

51
00:01:58.840 --> 00:02:01.070
for people building Gatsby websites,

52
00:02:01.070 --> 00:02:02.910
but there's nothing special about any of

53
00:02:02.910 --> 00:02:05.150
these folders other than that's where I like

54
00:02:05.150 --> 00:02:07.180
to put things except for pages.

55
00:02:07.180 --> 00:02:08.720
Pages is special in Gatsby.

56
00:02:08.720 --> 00:02:12.650
So assets, that's where I like to put my fonts

57
00:02:12.650 --> 00:02:15.960
and different images that I'm going to be using.

58
00:02:15.960 --> 00:02:19.290
You'll see here, I've got like this background SVG and

59
00:02:19.290 --> 00:02:22.250
these stripes SVG is used for our design.

60
00:02:22.250 --> 00:02:23.960
Components is gonna be a folder

61
00:02:23.960 --> 00:02:26.770
where we're gonna put things like our nav

62
00:02:26.770 --> 00:02:30.013
or our order button or any special react components

63
00:02:30.013 --> 00:02:31.630
that we make go in their.

64
00:02:31.630 --> 00:02:33.530
Pages are actually top level pages

65
00:02:33.530 --> 00:02:36.140
like the about page, the order page.

66
00:02:36.140 --> 00:02:40.020
Styles is where we stick our styles.

67
00:02:40.020 --> 00:02:42.610
And you'll see me, we'll talk about styles in a bit

68
00:02:42.610 --> 00:02:44.400
let's keep that at that.

69
00:02:44.400 --> 00:02:47.540
Templates is where we're going to, it's similar to pages,

70
00:02:47.540 --> 00:02:51.890
but they are gonna be reusable for things like pagination.

71
00:02:51.890 --> 00:02:55.380
And then utils, that's where I'm gonna stick things

72
00:02:55.380 --> 00:02:59.490
like little functions like format, money and whatnot.

73
00:02:59.490 --> 00:03:01.940
So pages in Gatsby are,

74
00:03:01.940 --> 00:03:03.860
they can be dynamically generated.

75
00:03:03.860 --> 00:03:05.050
We'll talk about that in a bit,

76
00:03:05.050 --> 00:03:08.620
or they can be done based on file system routing.

77
00:03:08.620 --> 00:03:11.040
Meaning that if you go into your pages directory

78
00:03:11.040 --> 00:03:15.020
and you make a new file and you create an index.JS,

79
00:03:15.020 --> 00:03:17.090
I almost put HTML there.

80
00:03:17.090 --> 00:03:19.930
This is going to be the page that shows up

81
00:03:19.930 --> 00:03:20.970
when somebody visits.

82
00:03:20.970 --> 00:03:23.437
Now, instead of doing like a paragraph tag that says,

83
00:03:23.437 --> 00:03:27.010
"Hey, what we need to do is export a function

84
00:03:27.010 --> 00:03:31.910
from this file, and that will be rendered out to the page."

85
00:03:31.910 --> 00:03:34.070
Now in any Gatsby page,

86
00:03:34.070 --> 00:03:36.920
you first must import React from 'react'.

87
00:03:36.920 --> 00:03:39.080 line:15% 
And that may not be true for very long

88
00:03:39.080 --> 00:03:41.120 line:15% 
at the time of recording we still have to,

89
00:03:41.120 --> 00:03:43.520 line:15% 
but there's a pull request in that,

90
00:03:43.520 --> 00:03:45.260 line:15% 
the fact that you have to import react

91
00:03:45.260 --> 00:03:47.110 line:15% 
into every file is kind of annoying,

92
00:03:47.110 --> 00:03:49.560 line:15% 
and that's not a Gatsby thing, that's a react thing.

93
00:03:49.560 --> 00:03:51.840 line:15% 
And that might not be true for long.

94
00:03:51.840 --> 00:03:54.240 line:15% 
Then what we do is we make a function

95
00:03:54.240 --> 00:03:56.100
and you can call this whatever you want.

96
00:03:56.100 --> 00:03:57.640
What I like to do is I always like

97
00:03:57.640 --> 00:03:59.440
to name it the thing that we are making.

98
00:03:59.440 --> 00:04:03.690
I'm gonna call this home and then put page on the end.

99
00:04:03.690 --> 00:04:06.250
And then from that function, we will return

100
00:04:09.210 --> 00:04:11.260
something, let's return a div.

101
00:04:11.260 --> 00:04:14.450
And you're gonna see me doing this a lot or I type div

102
00:04:14.450 --> 00:04:17.620
and then I hit a little key combo and that expands it all.

103
00:04:17.620 --> 00:04:21.390
That's using something called Emmet in VS Code.

104
00:04:21.390 --> 00:04:24.230
And essentially what it is if you type div,

105
00:04:24.230 --> 00:04:26.880 line:15% 
and then you open up your command pallet,

106
00:04:26.880 --> 00:04:28.620 line:15% 
it's command Shift + P,

107
00:04:28.620 --> 00:04:31.693 line:15% 
and then you type emmet expand abbreviation.

108
00:04:32.900 --> 00:04:34.570
That will expand it out.

109
00:04:34.570 --> 00:04:37.130
Now, if you look at that again,

110
00:04:37.130 --> 00:04:38.250
you'll see that there'll be,

111
00:04:38.250 --> 00:04:42.330
there might be a keyboard shortcut associated with it.

112
00:04:42.330 --> 00:04:47.330
I specifically have set mine up to be Control + E to expand.

113
00:04:48.820 --> 00:04:51.940
Sometimes it works with just hitting tab at the end,

114
00:04:51.940 --> 00:04:53.370
but it's inconsistent for me.

115
00:04:53.370 --> 00:04:55.470
So, I won't go into that any further.

116
00:04:55.470 --> 00:04:56.610
If you want, you can look into

117
00:04:56.610 --> 00:05:00.690
how do I set up a expand abbreviation shortcut for myself,

118
00:05:00.690 --> 00:05:02.330
but that's what I'm doing there.

119
00:05:02.330 --> 00:05:03.170
Then inside of that, I don't know.

120
00:05:03.170 --> 00:05:05.767
Let's just do a paragraph that says,

121
00:05:05.767 --> 00:05:09.450
"Hey, I'm the home page."

122
00:05:09.450 --> 00:05:12.150
Now, the last thing we need to do here is that

123
00:05:12.150 --> 00:05:15.820
this function has to be exported from this file.

124
00:05:15.820 --> 00:05:18.240
Now, all of your Gatsby files with an exception

125
00:05:18.240 --> 00:05:20.589
to a couple that I'll talk about in a bit,

126
00:05:20.589 --> 00:05:24.320
they are just ECMAScript modules, meaning that

127
00:05:24.320 --> 00:05:26.270
you can export things from them.

128
00:05:26.270 --> 00:05:29.590
And Gatsby is assuming that the main export,

129
00:05:29.590 --> 00:05:33.260
the default export from a page will be what

130
00:05:33.260 --> 00:05:35.950
is rendered when someone visits that page.

131
00:05:35.950 --> 00:05:39.190
So if we just put export default in front of it,

132
00:05:39.190 --> 00:05:40.970
that will then be rendered out.

133
00:05:40.970 --> 00:05:42.720
So we wrote our first page here.

134
00:05:42.720 --> 00:05:46.100
Now what we need to do is actually start our Gatsby build

135
00:05:46.100 --> 00:05:48.800
and be able to see it in the browser.

136
00:05:48.800 --> 00:05:50.710
In order to do that, we wanna make sure we're

137
00:05:50.710 --> 00:05:53.620
in our Gatsby folder, not in just the main folder,

138
00:05:53.620 --> 00:05:56.670
not in the sanity folder, in the Gatsby folder.

139
00:05:56.670 --> 00:05:59.390
And if we look at our package json,

140
00:05:59.390 --> 00:06:01.460
you'll see that we've got a couple of scripts here.

141
00:06:01.460 --> 00:06:02.503
We've got build,

142
00:06:03.540 --> 00:06:07.230
we have develop, start, serve, clean,

143
00:06:07.230 --> 00:06:09.430
and then some other netlify things we'll talk

144
00:06:09.430 --> 00:06:12.600
about when we get into serverless functions and deploying.

145
00:06:12.600 --> 00:06:16.670
So the one that we are going to be doing is running develop.

146
00:06:16.670 --> 00:06:19.670
And this puts us into our live reload mode.

147
00:06:19.670 --> 00:06:22.310
So we can get this really slick feedback

148
00:06:22.310 --> 00:06:23.860
and really quick development.

149
00:06:23.860 --> 00:06:27.073
So to start that I just like to type npm start,

150
00:06:28.010 --> 00:06:31.750
and that will in turn, just run npm develop,

151
00:06:31.750 --> 00:06:34.470
but I like npm start 'cause it's nice and short.

152
00:06:34.470 --> 00:06:35.820
So you run it.

153
00:06:35.820 --> 00:06:37.500
You'll see it runs npm develop

154
00:06:37.500 --> 00:06:39.653
that in turn runs Gatsby develop.

155
00:06:41.180 --> 00:06:42.730
And after a quick second,

156
00:06:42.730 --> 00:06:47.203
it should pop up a local host URL for us.

157
00:06:48.610 --> 00:06:50.530
Here we go, it says, you can now view

158
00:06:50.530 --> 00:06:52.260
your Slicks Slices front end in the browser

159
00:06:52.260 --> 00:06:53.970
at local host 8,000.

160
00:06:53.970 --> 00:06:56.270
And then there's this other thing called graph QL,

161
00:06:56.270 --> 00:07:00.120
which is the...is how we're going to source our data.

162
00:07:00.120 --> 00:07:04.280
So we'll remember that URL for the future.

163
00:07:04.280 --> 00:07:07.410
But now we just wanna open up the local host 8,000.

164
00:07:07.410 --> 00:07:08.243
There we go.

165
00:07:08.243 --> 00:07:09.810
"Hey, I'm the homepage."

166
00:07:09.810 --> 00:07:10.970
Why did that work?

167
00:07:10.970 --> 00:07:13.330
Because we've created a page

168
00:07:13.330 --> 00:07:16.780
and our page is a directory called index JS just like HTML

169
00:07:16.780 --> 00:07:19.160
and it's rendered out when you go to the homepage.

170
00:07:19.160 --> 00:07:20.680
Now what's cool about that is

171
00:07:20.680 --> 00:07:25.460
if you do something like E and then give it a save,

172
00:07:25.460 --> 00:07:27.810
it will automatically be re-rendered.

173
00:07:27.810 --> 00:07:29.630
That's called hot reloading

174
00:07:29.630 --> 00:07:31.760
and it's hot reloaded on the page.

175
00:07:31.760 --> 00:07:33.390
And there's nothing that we need to do.

176
00:07:33.390 --> 00:07:34.540
We don't have to toggle over

177
00:07:34.540 --> 00:07:35.900
and refresh the browser.

178
00:07:35.900 --> 00:07:39.640
We can almost always just stay in our editor here

179
00:07:39.640 --> 00:07:42.340
and the pages will be live reloaded.

180
00:07:42.340 --> 00:07:44.290
Now, if we go to a page that doesn't exist,

181
00:07:44.290 --> 00:07:46.050
like four/wes,

182
00:07:46.050 --> 00:07:48.020
you'll see this Gatsby JS development,

183
00:07:48.020 --> 00:07:51.223
there is no page yet at four/wes.

184
00:07:52.190 --> 00:07:54.550
And there also is no 404 page.

185
00:07:54.550 --> 00:07:56.650
So by default, Gatsby will

186
00:07:56.650 --> 00:07:59.020
just render out a 404 page for you,

187
00:07:59.020 --> 00:08:00.840
but it's likely that you wanna render out

188
00:08:00.840 --> 00:08:02.260
your own 404 page.

189
00:08:02.260 --> 00:08:04.580
So we'll go into our pages, we'll make a new file,

190
00:08:04.580 --> 00:08:07.380
call that 404.JS.

191
00:08:07.380 --> 00:08:08.433
And we'll do the exact same thing.

192
00:08:08.433 --> 00:08:10.330
You are gonna get copy pasting

193
00:08:10.330 --> 00:08:12.340
'cause this happens all the time,

194
00:08:12.340 --> 00:08:14.610
but let's write it one more time just to get practice.

195
00:08:14.610 --> 00:08:18.050
So import React from 'react',

196
00:08:18.050 --> 00:08:22.093
and then we want to export default function.

197
00:08:22.970 --> 00:08:26.580
And we're gonna name that function a FourOhFour.

198
00:08:27.520 --> 00:08:29.210
The reason why I didn't call it 404

199
00:08:29.210 --> 00:08:32.100
is you can't start functions with numbers.

200
00:08:32.100 --> 00:08:34.403
So I'll just call that FourOhFour page.

201
00:08:35.580 --> 00:08:37.170
And the name of this thing doesn't

202
00:08:37.170 --> 00:08:38.690
really matter all that much,

203
00:08:38.690 --> 00:08:40.430
but it is useful when we get

204
00:08:40.430 --> 00:08:43.010
into the react developer tools and start to debug it.

205
00:08:43.010 --> 00:08:46.160
So I recommend giving it something meaningful.

206
00:08:46.160 --> 00:08:48.433
And then in here we'll just return.

207
00:08:49.380 --> 00:08:51.427
I just return that paragraph,

208
00:08:51.427 --> 00:08:55.927
"Hey, that page doesn't exist."

209
00:08:58.140 --> 00:09:00.200
And we go back here and refresh

210
00:09:00.200 --> 00:09:03.070
and oh, no I'm wrong about that.

211
00:09:03.070 --> 00:09:06.280
So even though we created our 404 page,

212
00:09:06.280 --> 00:09:09.130
it doesn't show up when you're in development mode,

213
00:09:09.130 --> 00:09:12.630
because Gatsby actually gives you a helpful debugger

214
00:09:12.630 --> 00:09:15.310
where you can search for pages and actually visit them,

215
00:09:15.310 --> 00:09:17.203
which is pretty cool.

216
00:09:17.203 --> 00:09:19.970
You can also just click this to see there.

217
00:09:19.970 --> 00:09:21.010
There's our 404 page.

218
00:09:21.010 --> 00:09:22.550
So when we go into production,

219
00:09:22.550 --> 00:09:25.370
when we deploy this thing to a real server,

220
00:09:25.370 --> 00:09:28.820
then we'll be able to see that 404 page.

221
00:09:28.820 --> 00:09:30.950
So let's make the sort of the rest

222
00:09:30.950 --> 00:09:32.190
of the pages that we need.

223
00:09:32.190 --> 00:09:34.810
Let's scaffold them out, that's a word we use.

224
00:09:34.810 --> 00:09:35.970
Let's scaffold them out.

225
00:09:35.970 --> 00:09:38.000
Meaning like let's create the bare bones of all

226
00:09:38.000 --> 00:09:40.030
of the pages that we need.

227
00:09:40.030 --> 00:09:41.950
So we're gonna have a list of beers.

228
00:09:41.950 --> 00:09:43.913
So let's call it beers.JS.

229
00:09:45.040 --> 00:09:48.083
And I'm just gonna go into my index JS, copy paste it.

230
00:09:49.170 --> 00:09:52.183
And I'm going to rename this to BeersPage

231
00:09:54.280 --> 00:09:56.370
and we'll just call it I'm the beers page.

232
00:09:56.370 --> 00:09:57.203
Cool.

233
00:09:57.203 --> 00:09:59.000 line:15% 
And then I'm just gonna make a copy of

234
00:09:59.000 --> 00:10:03.990 line:15% 
that and name the next one order.JS.

235
00:10:03.990 --> 00:10:05.593
Let's change the order.

236
00:10:10.040 --> 00:10:11.973
We'll do it again for pizzas.JS.

237
00:10:14.610 --> 00:10:16.440
You notice I'm not putting capitals on these

238
00:10:16.440 --> 00:10:18.830
like you'd normally would on a react component.

239
00:10:18.830 --> 00:10:20.340
And the reason behind that is

240
00:10:20.340 --> 00:10:22.370
because they're not reusable components.

241
00:10:22.370 --> 00:10:24.398
These are single use pages.

242
00:10:24.398 --> 00:10:28.240
And generally the capital are on a component,

243
00:10:28.240 --> 00:10:31.770
notes that it is a reusable class in react.

244
00:10:31.770 --> 00:10:34.810
So, we don't use a capital on the pages.

245
00:10:34.810 --> 00:10:37.093
So order page, this one is pizzas.

246
00:10:40.840 --> 00:10:44.793 line:15% 
And then finally we want one called slicemasters.JS.

247
00:10:49.240 --> 00:10:50.880
Good, now we should be able to like go

248
00:10:50.880 --> 00:10:55.880
to four/pizzas and we see it and slicemasters

249
00:10:57.960 --> 00:11:00.310
and oh, we don't see it.

250
00:11:00.310 --> 00:11:03.310
That's because I named it slicemaster.

251
00:11:03.310 --> 00:11:04.913
Make sure you put an S on that.

252
00:11:07.350 --> 00:11:08.190
There we go.

253
00:11:08.190 --> 00:11:09.160
And you get the point.

254
00:11:09.160 --> 00:11:11.060
We've got all of our different pages.

255
00:11:11.060 --> 00:11:12.580
In the next video I'm gonna talk about,

256
00:11:12.580 --> 00:11:17.403
how do we go from page to page using sort of the Gatsby way.

